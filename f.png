

example9


PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVzIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+TWluaS1TZWNUb29sIHYxLjAgfCBQZW50ZXN0aW5nIFV0aWxzPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICA6cm9vdCB7CiAgICAgICAgICAgIC0tYmctY29sb3I6ICMxMjEyMTI7CiAgICAgICAgICAgIC0tY2FyZC1iZzogIzFlMWUxZTsKICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjZTBlMGUwOwogICAgICAgICAgICAtLWFjY2VudC1jb2xvcjogIzAwYmNkNDsKICAgICAgICAgICAgLS1hY2NlbnQtaG92ZXI6ICMwMDhiYTM7CiAgICAgICAgICAgIC0tYm9yZGVyLWNvbG9yOiAjMzMzOwogICAgICAgICAgICAtLXN1Y2Nlc3MtY29sb3I6ICMwMGU2NzY7CiAgICAgICAgfQoKICAgICAgICBib2R5IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgaGVhZGVyIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgICAgICAgfQoKICAgICAgICBoMSB7IG1hcmdpbjogMDsgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IH0KICAgICAgICBwLnN1YnRpdGxlIHsgY29sb3I6ICM4ODg7IGZvbnQtc2l6ZTogMC45cmVtOyB9CgogICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDM1MHB4LCAxZnIpKTsKICAgICAgICAgICAgZ2FwOiAyMHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgfQoKICAgICAgICAudG9vbC1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4zKTsKICAgICAgICB9CgogICAgICAgIC50b29sLWhlYWRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnRvb2wtdGl0bGUgeyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IH0KCiAgICAgICAgdGV4dGFyZWEgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIENvdXJpZXIsIG1vbm9zcGFjZTsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgbWluLWhlaWdodDogODBweDsKICAgICAgICB9CgogICAgICAgIHRleHRhcmVhOmZvY3VzIHsgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7IH0KCiAgICAgICAgLmJ0bi1ncm91cCB7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgZmxleC13cmFwOiB3cmFwOyB9CgogICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4yczsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgfQoKICAgICAgICBidXR0b246aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0OyBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IH0KICAgICAgICAKICAgICAgICBidXR0b24ucHJpbWFyeSB7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IGNvbG9yOiAjMDAwOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyOiBub25lOyB9CiAgICAgICAgYnV0dG9uLnByaW1hcnk6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtaG92ZXIpOyB9CgogICAgICAgIC5vdXRwdXQtYXJlYSB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxhYmVsIHsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1ib3R0b206IDVweDsgZm9udC1zaXplOiAwLjhyZW07IGNvbG9yOiAjODg4OyB9CgogICAgICAgIC5jb3B5LWJ0biB7CiAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07CiAgICAgICAgICAgIHBhZGRpbmc6IDJweCA4cHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IC0yNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzU1NTsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGhlYWRlcj4KICAgIDxoMT7wn5uh77iPIE1pbmktU2VjVG9vbDwvaDE+CiAgICA8cCBjbGFzcz0ic3VidGl0bGUiPkhlcnJhbWllbnRhcyByw6FwaWRhcyBwYXJhIFBlbnRlc3RpbmcgeSBSZXBvcnRlczwvcD4KPC9oZWFkZXI+Cgo8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoKICAgIDxkaXYgY2xhc3M9InRvb2wtY2FyZCI+CiAgICAgICAgPGRpdiBjbGFzcz0idG9vbC1oZWFkZXIiPgogICAgICAgICAgICA8c3BhbiBjbGFzcz0idG9vbC10aXRsZSI+8J+UoSBUcmFuc2Zvcm1hY2nDs24gZGUgVGV4dG88L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGxhYmVsPkVudHJhZGE6PC9sYWJlbD4KICAgICAgICA8dGV4dGFyZWEgaWQ9InRleHRJbnB1dCIgcGxhY2Vob2xkZXI9IkVzY3JpYmUgdHUgdGV4dG8gYXF1w60uLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJpbWFyeSIgb25jbGljaz0idHJhbnNmb3JtVGV4dCgndXBwZXInKSI+QSBNQVnDmlNDVUxBUzwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJwcmltYXJ5IiBvbmNsaWNrPSJ0cmFuc2Zvcm1UZXh0KCdsb3dlcicpIj5hIG1pbsO6c2N1bGFzPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0idHJhbnNmb3JtVGV4dCgnbGVuZ3RoJykiPkNvbnRhciBDYXJhY3RlcmVzPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dC1hcmVhIj4KICAgICAgICAgICAgPGxhYmVsPlJlc3VsdGFkbzogPGJ1dHRvbiBjbGFzcz0iY29weS1idG4iIG9uY2xpY2s9ImNvcHlUb0NsaXBib2FyZCgndGV4dE91dHB1dCcpIj5Db3BpYXI8L2J1dHRvbj48L2xhYmVsPgogICAgICAgICAgICA8dGV4dGFyZWEgaWQ9InRleHRPdXRwdXQiIHJlYWRvbmx5PjwvdGV4dGFyZWE+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJ0b29sLWNhcmQiPgogICAgICAgIDxkaXYgY2xhc3M9InRvb2wtaGVhZGVyIj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRvb2wtdGl0bGUiPvCflJAgQ29kaWZpY2FjacOzbiAoQmFzZTY0IC8gVVJMKTwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8bGFiZWw+UGF5bG9hZCAvIFN0cmluZzo8L2xhYmVsPgogICAgICAgIDx0ZXh0YXJlYSBpZD0iZW5jb2RlSW5wdXQiIHBsYWNlaG9sZGVyPSJhZG1pbicgb3IgJzEnPScxIj48L3RleHRhcmVhPgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InByaW1hcnkiIG9uY2xpY2s9ImhhbmRsZUJhc2U2NCgnZW5jb2RlJykiPkI2NCBFbmNvZGU8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJoYW5kbGVCYXNlNjQoJ2RlY29kZScpIj5CNjQgRGVjb2RlPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InByaW1hcnkiIG9uY2xpY2s9ImhhbmRsZVVSTCgnZW5jb2RlJykiPlVSTCBFbmNvZGU8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJoYW5kbGVVUkwoJ2RlY29kZScpIj5VUkwgRGVjb2RlPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dC1hcmVhIj4KICAgICAgICAgICAgPGxhYmVsPlJlc3VsdGFkbzogPGJ1dHRvbiBjbGFzcz0iY29weS1idG4iIG9uY2xpY2s9ImNvcHlUb0NsaXBib2FyZCgnZW5jb2RlT3V0cHV0JykiPkNvcGlhcjwvYnV0dG9uPjwvbGFiZWw+CiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iZW5jb2RlT3V0cHV0IiByZWFkb25seT48L3RleHRhcmVhPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0idG9vbC1jYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0b29sLWhlYWRlciI+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b29sLXRpdGxlIj7wn5OdIFJlcG9ydCBIZWxwZXIgKElPQ3MpPC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6MC44cmVtOyBjb2xvcjojYWFhOyBtYXJnaW4tdG9wOjA7Ij4iRGVmYW5nIiBjb252aWVydGUgVVJMcy9JUHMgbWFsaWNpb3NhcyBlbiB0ZXh0byBzZWd1cm8gcGFyYSByZXBvcnRlcy48L3A+CiAgICAgICAgPGxhYmVsPklPQ3MgKFVSTHMsIElQcyk6PC9sYWJlbD4KICAgICAgICA8dGV4dGFyZWEgaWQ9InJlcG9ydElucHV0IiBwbGFjZWhvbGRlcj0iaHR0cDovL21hbGljaW91cy5jb20vc2hlbGwuZXhlIj48L3RleHRhcmVhPgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InByaW1hcnkiIG9uY2xpY2s9ImRlZmFuZygpIj5EZWZhbmcgKFNhZmUpPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0icmVmYW5nKCkiPlJlZmFuZyAoT3JpZ2luYWwpPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dC1hcmVhIj4KICAgICAgICAgICAgPGxhYmVsPlJlc3VsdGFkbzogPGJ1dHRvbiBjbGFzcz0iY29weS1idG4iIG9uY2xpY2s9ImNvcHlUb0NsaXBib2FyZCgncmVwb3J0T3V0cHV0JykiPkNvcGlhcjwvYnV0dG9uPjwvbGFiZWw+CiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0icmVwb3J0T3V0cHV0IiByZWFkb25seT48L3RleHRhcmVhPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0idG9vbC1jYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0b29sLWhlYWRlciI+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b29sLXRpdGxlIj4j77iP4oOjIEhhc2hlcyAoU0hBLTI1NiAvIE1ENSk8L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGxhYmVsPlRleHRvIGEgSGFzaGVhcjo8L2xhYmVsPgogICAgICAgIDx0ZXh0YXJlYSBpZD0iaGFzaElucHV0IiBwbGFjZWhvbGRlcj0icGFzc3dvcmQxMjMiPjwvdGV4dGFyZWE+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJpbWFyeSIgb25jbGljaz0iZ2VuZXJhdGVIYXNoKCdTSEEtMjU2JykiPlNIQS0yNTY8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJnZW5lcmF0ZUhhc2goJ1NIQS0xJykiPlNIQS0xPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dC1hcmVhIj4KICAgICAgICAgICAgPGxhYmVsPkhhc2ggR2VuZXJhZG86IDxidXR0b24gY2xhc3M9ImNvcHktYnRuIiBvbmNsaWNrPSJjb3B5VG9DbGlwYm9hcmQoJ2hhc2hPdXRwdXQnKSI+Q29waWFyPC9idXR0b24+PC9sYWJlbD4KICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJoYXNoT3V0cHV0IiByZWFkb25seSBzdHlsZT0iY29sb3I6IHZhcigtLXN1Y2Nlc3MtY29sb3IpOyI+PC90ZXh0YXJlYT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKPC9kaXY+Cgo8c2NyaXB0PgogICAgLy8gLS0tIDEuIFRleHRvIFNpbXBsZSAtLS0KICAgIGZ1bmN0aW9uIHRyYW5zZm9ybVRleHQoYWN0aW9uKSB7CiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dElucHV0JykudmFsdWU7CiAgICAgICAgbGV0IG91dHB1dCA9ICcnOwoKICAgICAgICBpZiAoYWN0aW9uID09PSAndXBwZXInKSB7CiAgICAgICAgICAgIG91dHB1dCA9IGlucHV0LnRvVXBwZXJDYXNlKCk7CiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdsb3dlcicpIHsKICAgICAgICAgICAgb3V0cHV0ID0gaW5wdXQudG9Mb3dlckNhc2UoKTsKICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2xlbmd0aCcpIHsKICAgICAgICAgICAgb3V0cHV0ID0gYENhcmFjdGVyZXM6ICR7aW5wdXQubGVuZ3RofVxuUGFsYWJyYXM6ICR7aW5wdXQudHJpbSgpID09PSAnJyA/IDAgOiBpbnB1dC50cmltKCkuc3BsaXQoL1xzKy8pLmxlbmd0aH1gOwogICAgICAgIH0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dE91dHB1dCcpLnZhbHVlID0gb3V0cHV0OwogICAgfQoKICAgIC8vIC0tLSAyLiBFbmNvZGVycyAtLS0KICAgIGZ1bmN0aW9uIGhhbmRsZUJhc2U2NChhY3Rpb24pIHsKICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmNvZGVJbnB1dCcpLnZhbHVlOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdlbmNvZGUnKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5jb2RlT3V0cHV0JykudmFsdWUgPSBidG9hKGlucHV0KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmNvZGVPdXRwdXQnKS52YWx1ZSA9IGF0b2IoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5jb2RlT3V0cHV0JykudmFsdWUgPSAiRXJyb3I6IFN0cmluZyBpbnbDoWxpZG8gcGFyYSBCYXNlNjQuIjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlVVJMKGFjdGlvbikgewogICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuY29kZUlucHV0JykudmFsdWU7CiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2VuY29kZScpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuY29kZU91dHB1dCcpLnZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KGlucHV0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5jb2RlT3V0cHV0JykudmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoaW5wdXQpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAtLS0gMy4gUmVwb3J0aW5nIC8gRGVmYW5nIC0tLQogICAgLy8gw5p0aWwgcGFyYSBlc2NyaWJpciByZXBvcnRlcyBzaW4gcXVlIGxvcyBsaW5rcyBzZWFuIGNsaWNrZWFibGVzCiAgICBmdW5jdGlvbiBkZWZhbmcoKSB7CiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydElucHV0JykudmFsdWU7CiAgICAgICAgLy8gUmVlbXBsYXphciBodHRwIHBvciBoeHhwCiAgICAgICAgbGV0IG91dHB1dCA9IGlucHV0LnJlcGxhY2UoL2h0dHAvZ2ksICdoeHhwJyk7CiAgICAgICAgLy8gUmVlbXBsYXphciAuIHBvciBbLl0KICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXC4vZywgJ1suXScpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRPdXRwdXQnKS52YWx1ZSA9IG91dHB1dDsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZhbmcoKSB7CiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydElucHV0JykudmFsdWU7CiAgICAgICAgbGV0IG91dHB1dCA9IGlucHV0LnJlcGxhY2UoL2h4eHAvZ2ksICdodHRwJyk7CiAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xbXC5cXS9nLCAnLicpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRPdXRwdXQnKS52YWx1ZSA9IG91dHB1dDsKICAgIH0KCiAgICAvLyAtLS0gNC4gSGFzaGluZyAoQXN5bmMpIC0tLQogICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVIYXNoKGFsZ29yaXRobSkgewogICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hhc2hJbnB1dCcpLnZhbHVlOwogICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTsKICAgICAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUoaW5wdXQpOwogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChhbGdvcml0aG0sIGRhdGEpOwogICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTsKICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hhc2hPdXRwdXQnKS52YWx1ZSA9IGhhc2hIZXg7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGFzaE91dHB1dCcpLnZhbHVlID0gIkVycm9yIGdlbmVyYW5kbyBoYXNoLiBOYXZlZ2Fkb3Igbm8gY29tcGF0aWJsZT8iOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAtLS0gVXRpbGlkYWQ6IENvcGlhciBhbCBwb3J0YXBhcGVsZXMgLS0tCiAgICBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQoZWxlbWVudElkKSB7CiAgICAgICAgY29uc3QgY29weVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpOwogICAgICAgIGNvcHlUZXh0LnNlbGVjdCgpOwogICAgICAgIGNvcHlUZXh0LnNldFNlbGVjdGlvblJhbmdlKDAsIDk5OTk5KTsgLyogUGFyYSBtw7N2aWxlcyAqLwogICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgLy8gRmVlZGJhY2sgdmlzdWFsIHLDoXBpZG8KICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCZyA9IGNvcHlUZXh0LnN0eWxlLmJhY2tncm91bmRDb2xvcjsKICAgICAgICAgICAgY29weVRleHQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMzMzMnOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvcHlUZXh0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG9yaWdpbmFsQmc7CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfSk7CiAgICB9Cjwvc2NyaXB0PgoKPC9ib2R5Pgo8L2h0bWw+
